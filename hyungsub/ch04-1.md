# ch04: 중급 SQL -1
조금 더 복잡한 형태의 SQL을 소개합니다. 이 장 역시 새롭게 알게 된 내용을 적습니다.

## natural join
자연 조인, 사실 그냥 조인입니다. 처음 들어본 표현이네요

### 외부조인 내부조인
다시 정리해보면 내부 조인은 기본 조인으로써 양쪽 테이블에 모두 존재하는(매칭되는) 데이터만 가져옴 외부조인은 한쪽에만 존재하면 가저옴 없는 쪽에는 NULL로 표시.

외부 조인은 Left, Right, Full이 있는데 Full은 잘 사용하지 않음

## 뷰
일종의 가상의 테이블로 실제 데이터를 저장하지 않고 SELECT 쿼리를 저장해두는 방식이다. 하지만 잘 쓰지는 않음

디버깅이 어렵고 성능 문제(매번 쿼리를 실행하니) 가 있음

## 트랜잭션
질의문과 갱신문의 순차로 이루어져 있음
-- Commit work
    모든 동작을 수행 후 커밋 즉 트랜잭션이 수행한 갱신을 DB에 영구 반영해야함
-- Rollback work
    수행된 모든 갱신을 취소하고 첫 구문이 실행되기 전으로 되돌아감

추후 내용을 더 추가할 것...

## 무결성 제약 조건
사용자의 우발적 손상으로부터 DB를 보호하는 방법 DB를 Create 하거나 ORM에서 정의할 때 자주 사용한다. 하단의 예시를 보면 바로 이해가 된다.

단일 릴레이션에 관한 제약 조건

- not null
- unique
- check(조건)
위에 두 개는 익숙하게 사용했는데 check은 사실 처음 들어본 거 같다.
정의: 릴레이션의 정의를 적용할 때 릴레이션의 모든 튜플이 충족해야 하는 술어 P를 명시한다.
ex. check(budget > 0) 

참조 무결성

외래키 foreign key

제약 조건 명명

무결성 제약 조건에 이름을 할당할 수 있다.
사실 SQL에서도 변수 혹은 함수 같이 기능을 정의하고 이를 사용할 수 있다는 사실에 놀랍다. 다만 자주 사용하지 않는 듯 한데 개발 코드와 다르게 협업에 어려움이 더 존재하기 때문이라 생각한다.

## 질문
SQL도 프로그래밍처럼 기능 정의가 가능합니다. 다만 협업 및 유지보수의 어려움 때문에 SQL에서는 비교적 간단한 로직만 처리하고 애플리케이션 단에서 복잡한 로직을 더 많이 처리합니다.

SQL에서 더 복잡한 로직을 처리하는 경우가 있을까요? 예를 들어 SQL문으로 변수를 선언하고 뷰를 선언하여 처리하는 경우를 말합니다.